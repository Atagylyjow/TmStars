<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="StarEarn - Reklam izleyerek yıldız kazanın">
    <meta name="keywords" content="StarEarn, Telegram, Web App, Reklam, Yıldız, Para Kazanma">
    <meta name="author" content="StarEarn Team">
    <title>StarEarn - Reklam İzleyerek Yıldız Kazan</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Monetag SDK for Rewarded Ads -->
    <script src='//libtl.com/sdk.js' data-zone='9499819' data-sdk='show_9499819' data-auto='10/0.5/180/10/0' async defer></script>
    <meta name="monetag" content="d17df08e6ef24a924c1b213c9ff204b9">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-star"></i>
                    <span>TmStars</span>
                </div>
                <div class="star-system">
                    <div class="star-display">
                        <i class="fas fa-star"></i>
                        <span id="user-stars">0.00</span>
                        <span class="level-indicator" id="user-level">1. Seviye</span>
                        <button class="level-info-btn" id="level-info-btn" title="Seviye Bilgisi"><i class="fas fa-medal"></i></button>
                    </div>
                </div>
                <div class="theme-toggle" id="theme-toggle"></div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <div class="welcome-card">
                    <div class="welcome-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h1>TmStars</h1>
                    <p>Reklam izleyerek yıldız kazanın!</p>
                    <div class="user-info">
                        <span id="user-name">Kullanıcı</span>
                        <span id="user-id">ID: 0</span>
                    </div>
                </div>
            </section>

            <!-- Watch Ad Section -->
            <section class="watch-ad-section">
                <div class="ad-card">
                    <div class="ad-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <h2>Reklam İzle</h2>
                    <p>15 saniye reklam izleyerek 0.10 yıldız kazanın</p>
                    <div class="ad-stats">
                        <div class="stat">
                            <span class="stat-number" id="ads-watched-today">0</span>
                            <span class="stat-label">Bugün İzlenen</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number" id="ads-limit">50</span>
                            <span class="stat-label">Günlük Limit</span>
                        </div>
                    </div>
                    <button class="btn btn-primary watch-ad-btn" id="watch-ad-btn">
                        <i class="fas fa-play"></i>
                        Reklam İzle
                    </button>
                    <div class="progress-container" id="progress-container" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <span class="progress-text" id="progress-text">0%</span>
                    </div>
                </div>
            </section>

            <!-- Daily Tasks Section -->
            <section class="tasks-section">
                <h2>Günlük Görevler</h2>
                <div class="tasks-grid">
                    <div class="task-card" data-task="watch-ads">
                        <div class="task-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="task-info">
                            <h3>10 Reklam İzle</h3>
                            <p>0.50 bonus yıldız kazanın</p>
                            <div class="task-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="task-watch-progress"></div>
                                </div>
                                <span class="progress-text" id="task-watch-text">0/10</span>
                            </div>
                        </div>
                        <div class="task-action">
                            <button class="btn btn-secondary task-btn" data-task="watch-ads" disabled>
                                <i class="fas fa-lock"></i>
                                Kilitli
                            </button>
                        </div>
                    </div>

                    <div class="task-card" data-task="invite-friends">
                        <div class="task-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="task-info">
                            <h3>3 Arkadaş Davet Et</h3>
                            <p>5 bonus yıldız kazanın</p>
                            <div class="task-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="task-invite-progress"></div>
                                </div>
                                <span class="progress-text" id="task-invite-text">0/3</span>
                            </div>
                        </div>
                        <div class="task-action">
                            <button class="btn btn-secondary task-btn" data-task="invite-friends" disabled>
                                <i class="fas fa-lock"></i>
                                Kilitli
                            </button>
                        </div>
                    </div>

                    <div class="task-card" data-task="daily-login">
                        <div class="task-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="task-info">
                            <h3>7 Gün Üst Üste Giriş</h3>
                            <p>5 bonus yıldız kazanın</p>
                            <div class="task-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="task-login-progress"></div>
                                </div>
                                <span class="progress-text" id="task-login-text">0/7</span>
                            </div>
                        </div>
                        <div class="task-action">
                            <button class="btn btn-secondary task-btn" data-task="daily-login" disabled>
                                <i class="fas fa-lock"></i>
                                Kilitli
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Withdrawal Section -->
            <section class="withdrawal-section">
                <h2>Yıldız Çekme</h2>
                <div class="withdrawal-card">
                    <div class="withdrawal-info">
                        <h3>Minimum Çekim: 20 Yıldız</h3>
                        <p>Yıldızlarınızı Telegram hesabınıza veya telefon numaranıza TMT olarak çekebilirsiniz</p>
                    </div>
                    <div class="withdrawal-options">
                        <button class="btn btn-primary withdrawal-btn" data-method="telegram">
                            <i class="fab fa-telegram"></i>
                            Telegram'a Gönder
                        </button>
                        <button class="btn btn-secondary withdrawal-btn" data-method="phone">
                            <i class="fas fa-phone"></i>
                            Telefon Numarasına TMT
                        </button>
                    </div>
                </div>
            </section>

            <!-- Leaderboard Section -->
            <section class="leaderboard-section">
                <h2>Liderlik Tablosu</h2>
                <div class="leaderboard-card">
                    <div class="leaderboard-tabs">
                        <button class="tab-btn active" data-tab="daily">Günlük</button>
                        <button class="tab-btn" data-tab="weekly">Haftalık</button>
                        <button class="tab-btn" data-tab="monthly">Aylık</button>
                    </div>
                    <div class="leaderboard-list" id="leaderboard-list">
                        <!-- Leaderboard items will be loaded here -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-section="home">
                <i class="fas fa-home"></i>
                <span>Ana Sayfa</span>
            </button>
            <button class="nav-btn" data-section="tasks">
                <i class="fas fa-tasks"></i>
                <span>Görevler</span>
            </button>
            <button class="nav-btn" data-section="withdrawal">
                <i class="fas fa-wallet"></i>
                <span>Çekme</span>
            </button>
            <button class="nav-btn" data-section="leaderboard">
                <i class="fas fa-trophy"></i>
                <span>Liderlik</span>
            </button>
            <button class="nav-btn" data-section="profile" id="profile-nav-btn">
                <i class="fas fa-user-circle"></i>
                <span>Profil</span>
            </button>
        </nav>

        <!-- Modals -->
        <div class="modal" id="withdrawal-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Yıldız Çekme</h3>
                    <button class="modal-close" id="withdrawal-modal-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="withdrawal-form">
                        <div class="form-group">
                            <label for="withdrawal-amount">Çekilecek Yıldız Miktarı</label>
                            <input type="number" id="withdrawal-amount" min="20" step="0.01" placeholder="20.00">
                        </div>
                        <div class="form-group" id="phone-group" style="display: none;">
                            <label for="phone-number">Telefon Numarası</label>
                            <input type="tel" id="phone-number" placeholder="+993 6X XXX XXX">
                        </div>
                        <div class="withdrawal-summary">
                            <p>Mevcut Yıldız: <span id="current-stars">0.00</span></p>
                            <p>Minimum Çekim: 20.00 yıldız</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="withdrawal-cancel">İptal</button>
                    <button class="btn btn-primary" id="withdrawal-confirm">Onayla</button>
                </div>
            </div>
        </div>

        <!-- Success Modal -->
        <div class="modal" id="success-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Başarılı!</h3>
                    <button class="modal-close" id="success-modal-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="success-message">
                        <i class="fas fa-check-circle"></i>
                        <p id="success-message">İşlem başarıyla tamamlandı!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Seviye Bilgisi Modal -->
        <div class="modal" id="level-modal">
          <div class="modal-content level-modal-content">
            <span class="modal-close" id="level-modal-close">&times;</span>
            <h2>Seviye Sistemi</h2>
            <div id="level-modal-user-info"></div>
            <table class="level-table">
              <thead>
                <tr><th>Seviye</th><th>Reklam Aralığı</th><th>Çarpan</th></tr>
              </thead>
              <tbody id="level-table-body"></tbody>
            </table>
            <div id="level-modal-next-info" class="level-next-info"></div>
          </div>
        </div>

        <!-- Profil Modalı -->
        <div class="modal" id="profile-modal">
          <div class="modal-content profile-modal-content">
            <span class="modal-close" id="profile-modal-close">&times;</span>
            <div class="profile-header">
              <img id="profile-photo" class="profile-photo" src="" alt="Profil Fotoğrafı" />
              <div class="profile-main-info">
                <div class="profile-username" id="profile-username"></div>
                <div class="profile-id" id="profile-id"></div>
              </div>
            </div>
            <div class="profile-details">
              <div><b>Seviye:</b> <span id="profile-level"></span> <b>Çarpan:</b> <span id="profile-multiplier"></span></div>
              <div><b>Toplam İzlenen Reklam:</b> <span id="profile-total-ads"></span></div>
              <div><b>Toplam Yıldız:</b> <span id="profile-total-stars"></span></div>
              <div><b>Kayıt Tarihi:</b> <span id="profile-join-date"></span></div>
            </div>
            <div class="profile-referral">
              <div><b>Davet Linkin:</b> <span id="profile-ref-link"></span> <button id="copy-ref-link" title="Kopyala"><i class="fas fa-copy"></i></button></div>
              <div><b>Davet Ettiğin Kullanıcılar:</b> <span id="profile-ref-count">0</span></div>
              <div><b>Referansla Kazanılan Yıldız:</b> <span id="profile-ref-stars">0.00</span></div>
            </div>
            <!-- Diğer modüller buraya eklenecek -->
          </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 